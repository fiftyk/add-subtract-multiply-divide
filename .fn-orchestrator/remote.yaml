# 远程 API 注册中心配置
registries:
  - id: ipgeo
    name: IP 地理定位服务
    baseUrl: http://whois.pconline.com.cn
    timeout: 5000

  - id: exchangerate
    name: 汇率服务
    baseUrl: https://open.er-api.com
    timeout: 10000

  - id: weather
    name: 天气服务
    baseUrl: https://api.open-meteo.com
    timeout: 10000

# 远程函数端点配置
endpoints:
  - id: ip-query
    registryId: ipgeo
    name: queryIpLocation
    description: 查询 IP 对应的地理位置
    method: GET
    path: /ipJson.jsp
    parameters:
      - name: ip
        type: string
        description: IP 地址，为空则查询本机 IP
        required: false
        in: query
        default: ""
      - name: json
        type: string
        description: 固定参数，设为 true
        required: false
        in: query
        default: "true"
    returns:
      type: object
      description: 包含省份、城市、运营商等信息

  - id: exchange-rate
    registryId: exchangerate
    name: getExchangeRate
    description: 获取指定货币对人民币的汇率
    method: GET
    path: /v6/latest/CNY
    parameters: []
    returns:
      type: object
      description: 包含各种货币对 CNY 的汇率

  - id: weather-current
    registryId: weather
    name: getCurrentWeather
    description: 获取指定城市的当前天气
    method: GET
    path: /v1/forecast
    parameters:
      - name: latitude
        type: number
        description: 纬度
        required: true
        in: query
      - name: longitude
        type: number
        description: 经度
        required: true
        in: query
      - name: current
        type: string
        description: 返回当前天气数据，固定值
        required: false
        in: query
        default: "temperature_2m,relative_humidity,weather_code,wind_speed_10m"
    returns:
      type: object
      description: 包含温度、湿度、天气代码、风速等
