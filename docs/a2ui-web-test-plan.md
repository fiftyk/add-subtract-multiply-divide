# A2UI Web UI 测试计划

> 测试日期: 2026-01-06
> 测试环境: http://localhost:3002
> 测试人员: Claude Code

## 测试目标

验证 A2UI 协议 Web 实现的完整性和正确性，包括：
- 计划创建流程（生成、执行）
- 各种类型计划的执行
- 用户交互响应
- SSE 实时更新

## 测试策略

| 类别 | 描述 | 优先级 |
|------|------|--------|
| 冒烟测试 | 验证基础功能可用 | P0 |
| 功能测试 | 验证核心业务流程 | P1 |
| 边界测试 | 验证边界条件和错误处理 | P2 |

---

## 测试用例

### TC-001: 简单加法计算

| 属性 | 值 |
|------|-----|
| 用例编号 | TC-001 |
| 用例名称 | 简单加法计算 |
| 优先级 | P0 |
| 前置条件 | Web 服务器运行中 |

**测试步骤:**
1. 打开首页 http://localhost:3002
2. 在输入框输入: `计算 3 + 5`
3. 点击「生成计划」
4. 等待计划生成
5. 点击「执行计划」
6. 观察执行结果

**预期结果:**
- 计划生成成功，显示 `add` 函数
- 执行成功，结果显示 `8`

**测试数据:**
```
输入: 计算 3 + 5
预期步骤: 1 步 (调用 add 函数)
预期结果: 8
```

---

### TC-002: 复合算术运算

| 属性 | 值 |
|------|-----|
| 用例编号 | TC-002 |
| 用例名称 | 复合算术运算 |
| 优先级 | P0 |
| 前置条件 | Web 服务器运行中 |

**测试步骤:**
1. 打开首页
2. 输入: `计算 (10 + 5) * 2 - 8`
3. 点击「生成计划」
4. 点击「执行计划」
5. 记录结果

**预期结果:**
- 计划包含多步骤运算
- 逐步执行: 10+5=15 → 15×2=30 → 30-8=22
- 最终结果: 22

**测试数据:**
```
输入: 计算 (10 + 5) * 2 - 8
预期步骤: 3-4 步
预期结果: 22
```

---

### TC-003: 条件判断计算

| 属性 | 值 |
|------|-----|
| 用例编号 | TC-003 |
| 用例名称 | 条件判断计算 |
| 优先级 | P1 |
| 前置条件 | Web 服务器运行中 |

**测试步骤:**
1. 打开首页
2. 输入: `计算 (3 + 5) * 2，如果结果大于 10，则乘以 2`
3. 点击「生成计划」
4. 点击「执行计划」
5. 观察条件分支执行

**预期结果:**
- 3+5=8 < 10，条件不满足
- 结果应为 16 (8×2)

**测试数据:**
```
输入: 计算 (3 + 5) * 2，如果结果大于 10，则乘以 2
预期步骤: 4+ 步 (包含条件判断)
预期结果: 16
```

---

### TC-004: 多步骤数学运算

| 属性 | 值 |
|------|-----|
| 用例编号 | TC-004 |
| 用例名称 | 多步骤数学运算 |
| 优先级 | P1 |
| 前置条件 | Web 服务器运行中 |

**测试步骤:**
1. 打开首页
2. 输入: `计算 100 除以 5，如果结果大于 20，则减去 5，否则加上 10`
3. 点击「生成计划」
4. 点击「执行计划」
5. 记录每步结果

**预期结果:**
- 100÷5=20，不满足 >20 条件
- 执行加 10: 20+10=30
- 最终结果: 30

**测试数据:**
```
输入: 计算 100 除以 5，如果结果大于 20，则减去 5，否则加上 10
预期步骤: 4+ 步
预期结果: 30
```

---

### TC-005: 用户输入表单 - 单字段

| 属性 | 值 |
|------|-----|
| 用例编号 | TC-005 |
| 用例名称 | 用户输入表单 - 单字段 |
| 优先级 | P1 |
| 前置条件 | Web 服务器运行中 |

**测试步骤:**
1. 打开首页
2. 输入: `请提供您的姓名`
3. 点击「生成计划」
4. 点击「执行计划」
5. 填写表单并提交

**预期结果:**
- 计划生成成功
- 执行时显示输入表单
- 输入后返回结果

**测试数据:**
```
输入: 请提供您的姓名
预期步骤: 1 步 (用户输入)
```

---

### TC-006: 用户输入表单 - 多字段

| 属性 | 值 |
|------|-----|
| 用例编号 | TC-006 |
| 用例名称 | 用户输入表单 - 多字段 |
| 优先级 | P1 |
| 前置条件 | Web 服务器运行中 |

**测试步骤:**
1. 打开首页
2. 输入: `请提供您的姓名和年龄`
3. 点击「生成计划」
4. 点击「执行计划」
5. 填写多个字段并提交

**预期结果:**
- 计划生成成功，显示多字段表单
- 用户填写后执行后续步骤

**测试数据:**
```
输入: 请提供您的姓名和年龄
预期步骤: 1 步 (多字段表单)
```

---

### TC-007: 多次用户输入

| 属性 | 值 |
|------|-----|
| 用例编号 | TC-007 |
| 用例名称 | 多次用户输入 |
| 优先级 | P2 |
| 前置条件 | Web 服务器运行中 |

**测试步骤:**
1. 打开首页
2. 输入: `请分三次分别询问我的姓名、年龄、和最喜欢的数字，然后计算年龄加上最喜欢的数字`
3. 点击「生成计划」
4. 点击「执行计划」
5. 按顺序填写三个输入

**预期结果:**
- 生成包含多个用户输入步骤的计划
- 依次显示三个输入表单
- 最终执行计算

**测试数据:**
```
输入: 请分三次分别询问我的姓名、年龄、和最喜欢的数字，然后计算年龄加上最喜欢的数字
预期步骤: 4+ 步 (3次输入 + 1次计算)
```

---

### TC-008: 计划列表查看

| 属性 | 值 |
|------|-----|
| 用例编号 | TC-008 |
| 用例名称 | 计划列表查看 |
| 优先级 | P0 |
| 前置条件 | 已创建多个计划 |

**测试步骤:**
1. 导航到「计划」页面
2. 验证列表显示
3. 点击「查看详情」
4. 验证详情信息

**预期结果:**
- 显示所有历史计划
- 状态显示正确（可执行/不完整）
- 详情显示步骤信息

---

### TC-009: 工具列表查看

| 属性 | 值 |
|------|-----|
| 用例编号 | TC-009 |
| 用例名称 | 工具列表查看 |
| 优先级 | P0 |
| 前置条件 | Web 服务器运行中 |

**测试步骤:**
1. 导航到「工具」页面
2. 验证工具列表显示
3. 检查工具详情

**预期结果:**
- 显示所有可用工具
- 包含 MCP 工具和自定义函数
- 显示参数和返回值信息

---

## 测试环境

```
Web 服务器: http://localhost:3002
后端服务器: Node.js + Fastify
前端框架: Vue 3 + Vite
通信协议: SSE + REST API
```

---

## 测试执行记录模板

| 用例编号 | 用例名称 | 执行状态 | 实际结果 | 备注 |
|----------|----------|----------|----------|------|
| TC-001 | 简单加法计算 | 待执行 | - | - |
| TC-002 | 复合算术运算 | 待执行 | - | - |
| TC-003 | 条件判断计算 | 待执行 | - | - |
| TC-004 | 多步骤数学运算 | 待执行 | - | - |
| TC-005 | 用户输入表单-单字段 | 待执行 | - | - |
| TC-006 | 用户输入表单-多字段 | 待执行 | - | - |
| TC-007 | 多次用户输入 | 待执行 | - | - |
| TC-008 | 计划列表查看 | 待执行 | - | - |
| TC-009 | 工具列表查看 | 待执行 | - | - |

---

## 通过标准

- 所有 P0 用例通过
- P1 用例通过率 ≥ 90%
- 无阻塞性 bug
- UI 显示正确，无控制台错误
